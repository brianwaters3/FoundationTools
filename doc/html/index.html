<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EpcTools: EpcTools - Enhanced Packet Core Development Tools</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EpcTools
   </div>
   <div id="projectbrief">An event based multi-threaded C++ development framework.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="classEpcTools.html" title="The primary class used to initialize/uninitialize EpcTools.">EpcTools</a> - Enhanced Packet Core Development Tools </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="el" href="classEpcTools.html" title="The primary class used to initialize/uninitialize EpcTools.">EpcTools</a> is an event based, multi-threaded C++ development framework designed for any Linux implementation that supports g++ and pthreads.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Dependencies</h1>
<ul>
<li><a href="http://rapidjson.org">RapidJSON</a> - a JSON parser and generator for C++</li>
<li><a href="https://github.com/gabime/spdlog">spdlog</a> - Very fast, header-only/compiled, C++ logging library</li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
Installation</h1>
<p>Clone the project, install the dependencies (via configure), build the static library and install.</p>
<div class="fragment"><div class="line">$ git clone https://github.com/brianwaters3/FoundationTools.git epctools</div>
<div class="line">$ cd epctools</div>
<div class="line">$ ./configure</div>
<div class="line">$ make</div>
<div class="line">$ sudo make install</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md3"></a>
Features</h1>
<p><a class="el" href="classEpcTools.html" title="The primary class used to initialize/uninitialize EpcTools.">EpcTools</a> includes classes for:</p>
<ul>
<li>Threading - Basic, Event, Event thread with TCP socket capabilities</li>
<li>Synchronization - Mutex using native IPC (pthread) or custom mutex implementation and an optimized Semaphore implementation</li>
<li>Custom queue implementation with message encoding and decoding</li>
<li>Shared Memory configuration and access</li>
<li>Ability to enable or disable public variants of threads, mutexes, semaphores and queues that utilize shared memory</li>
<li>Various utility classes including circular buffer, directory processing, bzip2, time, elapsed timer, string, exception and logging</li>
</ul>
<h2><a class="anchor" id="autotoc_md4"></a>
Threading</h2>
<h3><a class="anchor" id="autotoc_md5"></a>
Basic Thread</h3>
<p>To create a basic thread, an object must be derived from <code><a class="el" href="classEThreadBasic.html" title="An abstract class that represents contains the threadProc() that will be run in a separate thread.">EThreadBasic</a></code> overriding the <code><a class="el" href="classEThreadBasic.html#a2af11d0367222ca518151c21f543a6ec" title="Function that will be called in a separate thread.">EThreadBasic::threadProc()</a></code> method which represents the code that will be executed in a separate thread. To initialize and start the thread simply call the <code>Void init(pVoid arg, Dword stackSize = 0)</code> method. Call <code>Void join()</code> to wait for the thread to exit. Other useful <code><a class="el" href="classEThreadBasic.html" title="An abstract class that represents contains the threadProc() that will be run in a separate thread.">EThreadBasic</a></code> methods include <code>static Void sleep(Int milliseconds)</code> and <code>static Void yield()</code>.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>EThreadBasicTest : <span class="keyword">public</span> <a class="code" href="classEThreadBasic.html">EThreadBasic</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">   EThreadBasicTest() : m_timetoquit(false) {}</div>
<div class="line"> </div>
<div class="line">   Dword <a class="code" href="classEThreadBasic.html#a2af11d0367222ca518151c21f543a6ec">threadProc</a>(Void *arg) {</div>
<div class="line">      <span class="keywordflow">while</span> (!m_timetoquit) {</div>
<div class="line">         cout &lt;&lt; <span class="stringliteral">&quot;Inside the thread [&quot;</span> &lt;&lt; (cpStr)arg &lt;&lt; <span class="stringliteral">&quot;]&quot;</span> &lt;&lt; endl;</div>
<div class="line">         <a class="code" href="classEThreadBasic.html#a94c06aeb1d4a549f367fda6d39c43a71">sleep</a>(1000);</div>
<div class="line">      }</div>
<div class="line">      cout &lt;&lt; <span class="stringliteral">&quot;Exiting EThreadTest::threadProc()&quot;</span> &lt;&lt; endl;</div>
<div class="line">      <span class="keywordflow">return</span> 0;</div>
<div class="line">   }</div>
<div class="line"> </div>
<div class="line">   Void setTimeToQuit() {</div>
<div class="line">      m_timetoquit = <span class="keyword">true</span>;</div>
<div class="line">   }</div>
<div class="line"> </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">   <span class="keywordtype">bool</span> m_timetoquit;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">Void EThreadBasic_test() {</div>
<div class="line">   cout &lt;&lt; <span class="stringliteral">&quot;EThread_test() Start&quot;</span> &lt;&lt; endl;</div>
<div class="line"> </div>
<div class="line">   EThreadBasicTest t;</div>
<div class="line"> </div>
<div class="line">   t.init((Void *)<span class="stringliteral">&quot;this is the thread argument&quot;</span>);</div>
<div class="line">   cout &lt;&lt; <span class="stringliteral">&quot;before 5 second sleep sleep&quot;</span> &lt;&lt; endl;</div>
<div class="line">   t.sleep(5000);</div>
<div class="line">   cout &lt;&lt; <span class="stringliteral">&quot;before setTimeToQuit()&quot;</span> &lt;&lt; endl;</div>
<div class="line">   t.setTimeToQuit();</div>
<div class="line">   cout &lt;&lt; <span class="stringliteral">&quot;before join&quot;</span> &lt;&lt; endl;</div>
<div class="line">   t.join();</div>
<div class="line"> </div>
<div class="line">   cout &lt;&lt; <span class="stringliteral">&quot;EThread_test() Complete&quot;</span> &lt;&lt; endl;</div>
<div class="line">}</div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md6"></a>
Event Thread</h3>
<h3><a class="anchor" id="autotoc_md7"></a>
Socket Thread (TCP)</h3>
<h2><a class="anchor" id="autotoc_md8"></a>
Synchronization</h2>
<h3><a class="anchor" id="autotoc_md9"></a>
Mutex</h3>
<h3><a class="anchor" id="autotoc_md10"></a>
Semaphore</h3>
<h2><a class="anchor" id="autotoc_md11"></a>
Queue</h2>
<h3><a class="anchor" id="autotoc_md12"></a>
Configuration</h3>
<h3><a class="anchor" id="autotoc_md13"></a>
Encode/Decode</h3>
<h2><a class="anchor" id="autotoc_md14"></a>
Shared Memory</h2>
<h2><a class="anchor" id="autotoc_md15"></a>
Configuration</h2>
<h2><a class="anchor" id="autotoc_md16"></a>
Exceptions</h2>
<h2><a class="anchor" id="autotoc_md17"></a>
Logger</h2>
<h3><a class="anchor" id="autotoc_md18"></a>
Tech</h3>
<p>Dillinger uses a number of open source projects to work properly:</p>
<ul>
<li><a href="http://angularjs.org&gt;">AngularJS</a> - HTML enhanced for web apps!</li>
<li><a href="http://ace.ajax.org&gt;">Ace Editor</a> - awesome web-based text editor</li>
<li><a href="https://github.com/markdown-it/markdown-it&gt;">markdown-it</a> - Markdown parser done right. Fast and easy to extend.</li>
<li><a href="http://twitter.github.com/bootstrap/&gt;">Twitter Bootstrap</a> - great UI boilerplate for modern web apps</li>
<li><a href="http://nodejs.org&gt;">node.js</a> - evented I/O for the backend</li>
<li><a href="http://expressjs.com&gt;">Express</a> - fast node.js network app framework <a href="http://twitter.com/tjholowaychuk&gt;">@tjholowaychuk</a></li>
<li><a href="http://gulpjs.com&gt;">Gulp</a> - the streaming build system</li>
<li><a href="http://breakdance.io">Breakdance</a> - HTML to Markdown converter</li>
<li><a href="http://jquery.com&gt;">jQuery</a> - duh</li>
</ul>
<p>And of course Dillinger itself is open source with a <a href="https://github.com/joemccann/dillinger&gt;">public repository</a> on GitHub.</p>
<h3><a class="anchor" id="autotoc_md19"></a>
Installation</h3>
<p>Dillinger requires <a href="https://nodejs.org/">Node.js</a> v4+ to run.</p>
<p>Install the dependencies and devDependencies and start the server.</p>
<div class="fragment"><div class="line">$ git clone https://github.com/brianwaters3/FoundationTools.git epctools</div>
<div class="line">$ cd epctools</div>
<div class="line">$ ./configure</div>
</div><!-- fragment --><p>For production environments...</p>
<div class="fragment"><div class="line">$ npm install --production</div>
<div class="line">$ NODE_ENV=production node app</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md20"></a>
Plugins</h3>
<p>Dillinger is currently extended with the following plugins. Instructions on how to use them in your own application are linked below.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Plugin  </th><th class="markdownTableHeadNone">README   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Dropbox  </td><td class="markdownTableBodyNone"><a href="https://github.com/joemccann/dillinger/tree/master/plugins/dropbox/README.md&gt;">plugins/dropbox/README.md</a>   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Github  </td><td class="markdownTableBodyNone"><a href="https://github.com/joemccann/dillinger/tree/master/plugins/github/README.md&gt;">plugins/github/README.md</a>   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Google Drive  </td><td class="markdownTableBodyNone"><a href="https://github.com/joemccann/dillinger/tree/master/plugins/googledrive/README.md&gt;">plugins/googledrive/README.md</a>   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">OneDrive  </td><td class="markdownTableBodyNone"><a href="https://github.com/joemccann/dillinger/tree/master/plugins/onedrive/README.md&gt;">plugins/onedrive/README.md</a>   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Medium  </td><td class="markdownTableBodyNone"><a href="https://github.com/joemccann/dillinger/tree/master/plugins/medium/README.md&gt;">plugins/medium/README.md</a>   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Google Analytics  </td><td class="markdownTableBodyNone"><a href="https://github.com/RahulHP/dillinger/blob/master/plugins/googleanalytics/README.md&gt;">plugins/googleanalytics/README.md</a>   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md21"></a>
Development</h3>
<p>Want to contribute? Great!</p>
<p>Dillinger uses Gulp + Webpack for fast developing. Make a change in your file and instantanously see your updates!</p>
<p>Open your favorite Terminal and run these commands.</p>
<p>First Tab: </p><div class="fragment"><div class="line">$ node app</div>
</div><!-- fragment --><p>Second Tab: </p><div class="fragment"><div class="line">$ gulp watch</div>
</div><!-- fragment --><p>(optional) Third: </p><div class="fragment"><div class="line">$ karma test</div>
</div><!-- fragment --> <h4><a class="anchor" id="autotoc_md22"></a>
Building for source</h4>
<p>For production release: </p><div class="fragment"><div class="line">$ gulp build --prod</div>
</div><!-- fragment --><p> Generating pre-built zip archives for distribution: </p><div class="fragment"><div class="line">$ gulp build dist --prod</div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md23"></a>
Docker</h3>
<p>Dillinger is very easy to install and deploy in a Docker container.</p>
<p>By default, the Docker will expose port 8080, so change this within the Dockerfile if necessary. When ready, simply use the Dockerfile to build the image.</p>
<div class="fragment"><div class="line">cd dillinger</div>
<div class="line">docker build -t joemccann/dillinger:${package.json.version} .</div>
</div><!-- fragment --><p> This will create the dillinger image and pull in the necessary dependencies. Be sure to swap out <code>${package.json.version}</code> with the actual version of Dillinger.</p>
<p>Once done, run the Docker image and map the port to whatever you wish on your host. In this example, we simply map port 8000 of the host to port 8080 of the Docker (or whatever port was exposed in the Dockerfile):</p>
<div class="fragment"><div class="line">docker run -d -p 8000:8080 --restart=&quot;always&quot; &lt;youruser&gt;/dillinger:${package.json.version}</div>
</div><!-- fragment --><p>Verify the deployment by navigating to your server address in your preferred browser.</p>
<div class="fragment"><div class="line">127.0.0.1:8000</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md24"></a>
Kubernetes + Google Cloud</h4>
<p>See <a href="https://github.com/joemccann/dillinger/blob/master/KUBERNETES.md">KUBERNETES.md</a></p>
<h3><a class="anchor" id="autotoc_md25"></a>
Todos</h3>
<ul>
<li>Write MORE Tests</li>
<li>Add Night Mode</li>
</ul>
<h2><a class="anchor" id="autotoc_md26"></a>
License</h2>
<p>MIT</p>
<p><b>Free Software, Hell Yeah!</b> </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<div class="ttc" id="aclassEThreadBasic_html_a2af11d0367222ca518151c21f543a6ec"><div class="ttname"><a href="classEThreadBasic.html#a2af11d0367222ca518151c21f543a6ec">EThreadBasic::threadProc</a></div><div class="ttdeci">virtual Dword threadProc(pVoid arg)=0</div><div class="ttdoc">Function that will be called in a separate thread.</div></div>
<div class="ttc" id="aclassEThreadBasic_html_a94c06aeb1d4a549f367fda6d39c43a71"><div class="ttname"><a href="classEThreadBasic.html#a94c06aeb1d4a549f367fda6d39c43a71">EThreadBasic::sleep</a></div><div class="ttdeci">static Void sleep(Int milliseconds)</div><div class="ttdoc">Sleeps for the specified number of milliseconds.</div><div class="ttdef"><b>Definition:</b> etbase.cpp:191</div></div>
<div class="ttc" id="aclassEThreadBasic_html"><div class="ttname"><a href="classEThreadBasic.html">EThreadBasic</a></div><div class="ttdoc">An abstract class that represents contains the threadProc() that will be run in a separate thread.</div><div class="ttdef"><b>Definition:</b> etbase.h:79</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
